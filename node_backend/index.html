<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title>Test</title>
  <script src="wordcloud2.js"></script>
  <script src="cleanText.js"></script>
  <script src='https://code.jquery.com/jquery-3.1.1.js'></script>
</head>

<body>
  <div id="container">

    <button onclick="createWC();">
      search
    </button>
    <input id="input-search" />

    <div id="my_canvas" style="width:700px; height:700px;">
    </div>

  </div>
  <!-- end of container -->

  <script>
    function createWC() {
      var searchTerm = $('#input-search').val();
      console.log(searchTerm);

      $.ajax({
        url: "http://localhost:3000/api/twitter/" + searchTerm,
      }).then(function(rawWordList) {
        console.log(rawWordList);
        counterList = getWordCounter(rawWordList.tweets);
        // var newList = [['nihao',3],['nimei', 10], ['zhazha',2]];
        WordCloud(document.getElementById('my_canvas'), {
          list: counterList
        });
        console.log(counterList);
        console.log('done');
      });
    }
  </script>

  <style>
  #container{
    margin-top: 20px;
    margin-left:30%;
  }

  </style>
</body>

</html>
